# Compliance Orchestration Service Environment Configuration

# Application Configuration
NODE_ENV=development
PORT=3002

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h
JWT_ISSUER=compliance-orchestration-service

# Database Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=compliance_orchestration
POSTGRES_USERNAME=postgres
POSTGRES_PASSWORD=password
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_SSL=false

MONGODB_URI=mongodb://localhost:27017
MONGODB_DB=compliance_orchestration
MONGODB_MAX_POOL_SIZE=10
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=password
REDIS_DB=1

# External Services Configuration
REGULATORY_INTELLIGENCE_URL=http://localhost:3001
REGULATORY_INTELLIGENCE_API_KEY=
REGULATORY_INTELLIGENCE_TIMEOUT=30000

USER_MANAGEMENT_URL=http://localhost:3003
USER_MANAGEMENT_API_KEY=
USER_MANAGEMENT_TIMEOUT=30000

DOCUMENT_MANAGEMENT_URL=http://localhost:3004
DOCUMENT_MANAGEMENT_API_KEY=
DOCUMENT_MANAGEMENT_TIMEOUT=30000

AUDIT_TRAIL_URL=http://localhost:3005
AUDIT_TRAIL_API_KEY=
AUDIT_TRAIL_TIMEOUT=30000

# Workflow Engine Configuration
MAX_CONCURRENT_WORKFLOWS=100
WORKFLOW_DEFAULT_TIMEOUT=3600000
WORKFLOW_RETRY_ATTEMPTS=3
WORKFLOW_RETRY_DELAY=5000
WORKFLOW_ENABLE_PERSISTENCE=true
WORKFLOW_ENABLE_METRICS=true

# Task Scheduler Configuration
SCHEDULER_CONCURRENCY=10
SCHEDULER_DEFAULT_DELAY=1000
SCHEDULER_MAX_RETRIES=3
SCHEDULER_BACKOFF_STRATEGY=exponential
SCHEDULER_ENABLE_CLEANUP=true
SCHEDULER_CLEANUP_INTERVAL=3600000

# Notification Configuration
EMAIL_NOTIFICATIONS_ENABLED=true
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@compliance-platform.com
EMAIL_TEMPLATES_PATH=./templates/email

SLACK_NOTIFICATIONS_ENABLED=false
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#compliance

TEAMS_NOTIFICATIONS_ENABLED=false
TEAMS_WEBHOOK_URL=

IN_APP_NOTIFICATIONS_ENABLED=true
IN_APP_RETENTION_DAYS=30

# Security Configuration
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_KEY=your-32-character-secret-key-here
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_CONSOLE_ENABLED=true
LOG_COLORIZE=true

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=pdf,doc,docx,xls,xlsx,txt,csv
UPLOAD_DESTINATION=./uploads
UPLOAD_ENABLE_VIRUS_SCAN=false

# Cache Configuration
CACHE_TTL_DEFAULT=3600
CACHE_TTL_WORKFLOWS=1800
CACHE_TTL_TASKS=900
CACHE_TTL_TEMPLATES=7200
CACHE_KEY_PREFIX=compliance_orchestration:

# Business Rules Configuration
WORKFLOW_MAX_STEPS=50
WORKFLOW_MAX_PARALLEL_TASKS=10
WORKFLOW_DEFAULT_PRIORITY=medium

APPROVAL_MAX_APPROVERS=5
APPROVAL_DEFAULT_TIMEOUT=604800000
APPROVAL_ESCALATION_ENABLED=true
APPROVAL_ESCALATION_DELAY=172800000

TASK_MAX_ASSIGNEES=3
TASK_DEFAULT_DURATION=86400000
TASK_AUTO_ASSIGNMENT_ENABLED=false

# Monitoring and Metrics
MONITORING_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000
PERF_RESPONSE_TIME_THRESHOLD=1000
PERF_MEMORY_USAGE_THRESHOLD=512
PERF_CPU_USAGE_THRESHOLD=80

# Feature Flags
FEATURE_ADVANCED_WORKFLOWS=true
FEATURE_AI_ASSISTANCE=false
FEATURE_REAL_TIME_UPDATES=true
FEATURE_BULK_OPERATIONS=true
FEATURE_CUSTOM_TEMPLATES=true
FEATURE_INTEGRATION_WEBHOOKS=true

# API Keys for Service-to-Service Communication
VALID_API_KEYS=service-key-1,service-key-2

# Docker Configuration (when using Docker Compose)
# POSTGRES_HOST=postgres
# MONGODB_URI=mongodb://admin:password@mongodb:27017
# REDIS_HOST=redis
# REGULATORY_INTELLIGENCE_URL=http://regulatory-intelligence:3001

# Production Configuration (uncomment for production)
# NODE_ENV=production
# LOG_LEVEL=warn
# POSTGRES_SSL=true
# RATE_LIMIT_MAX_REQUESTS=1000
# WORKFLOW_ENABLE_METRICS=true
# MONITORING_ENABLED=true
