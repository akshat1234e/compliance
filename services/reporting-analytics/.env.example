# Reporting & Analytics Service Environment Configuration

# Application Configuration
NODE_ENV=development
PORT=3005

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h
JWT_ISSUER=reporting-analytics-service

# Database Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=reporting_analytics
POSTGRES_USERNAME=postgres
POSTGRES_PASSWORD=password
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_SSL=false

MONGODB_URI=mongodb://localhost:27017
MONGODB_DB=reporting_analytics
MONGODB_MAX_POOL_SIZE=10
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=password
REDIS_DB=3

ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_REQUEST_TIMEOUT=30000
ELASTICSEARCH_MAX_RETRIES=3

# Report Generation Configuration
REPORTS_OUTPUT_PATH=./reports
REPORTS_TEMP_PATH=./temp
REPORTS_MAX_FILE_SIZE=52428800
REPORTS_RETENTION_DAYS=90
REPORTS_FORMATS=pdf,excel,csv,json
REPORTS_ENABLE_WATERMARK=true
REPORTS_ENABLE_ENCRYPTION=false
REPORTS_CONCURRENT_JOBS=5
REPORTS_TIMEOUT=300000

# Analytics Configuration
ANALYTICS_ENABLE_REALTIME=true
ANALYTICS_AGGREGATION_INTERVAL=300000
ANALYTICS_RETENTION_PERIOD=365
ANALYTICS_ENABLE_PREDICTIVE=false
ANALYTICS_ENABLE_ANOMALY_DETECTION=false
ANALYTICS_BATCH_SIZE=1000
ANALYTICS_MAX_MEMORY_USAGE=512

# Dashboard Configuration
DASHBOARD_REFRESH_INTERVAL=30000
DASHBOARD_ENABLE_CACHING=true
DASHBOARD_CACHE_TIMEOUT=300
DASHBOARD_MAX_WIDGETS=20
DASHBOARD_ENABLE_EXPORT=true
DASHBOARD_ENABLE_SHARING=true

# Scheduler Configuration
SCHEDULER_ENABLE_SCHEDULED_REPORTS=true
SCHEDULER_MAX_CONCURRENT_JOBS=10
SCHEDULER_RETRY_ATTEMPTS=3
SCHEDULER_RETRY_DELAY=60000
SCHEDULER_CLEANUP_INTERVAL=86400000
SCHEDULER_JOB_TIMEOUT=1800000

# Chart Configuration
CHARTS_DEFAULT_WIDTH=800
CHARTS_DEFAULT_HEIGHT=600
CHARTS_ENABLE_ANIMATIONS=true
CHARTS_COLOR_SCHEME=default
CHARTS_FONT_FAMILY=Arial, sans-serif
CHARTS_FONT_SIZE=12

# Email Configuration
EMAIL_ENABLED=true
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@compliance-platform.com
EMAIL_TEMPLATE_REPORT_READY=report-ready
EMAIL_TEMPLATE_REPORT_FAILED=report-failed
EMAIL_TEMPLATE_SCHEDULED_REPORT=scheduled-report

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
REPORT_RATE_LIMIT_WINDOW_MS=300000
REPORT_RATE_LIMIT_MAX=5

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_CONSOLE_ENABLED=true
LOG_COLORIZE=true

# External Services Configuration
COMPLIANCE_ORCHESTRATION_URL=http://localhost:3002
COMPLIANCE_ORCHESTRATION_API_KEY=
COMPLIANCE_ORCHESTRATION_TIMEOUT=30000

REGULATORY_INTELLIGENCE_URL=http://localhost:3001
REGULATORY_INTELLIGENCE_API_KEY=
REGULATORY_INTELLIGENCE_TIMEOUT=30000

DOCUMENT_MANAGEMENT_URL=http://localhost:3004
DOCUMENT_MANAGEMENT_API_KEY=
DOCUMENT_MANAGEMENT_TIMEOUT=30000

# Cache Configuration
CACHE_TTL_DEFAULT=3600
CACHE_TTL_REPORTS=7200
CACHE_TTL_ANALYTICS=1800
CACHE_TTL_DASHBOARD=300
CACHE_KEY_PREFIX=reporting_analytics:

# Monitoring Configuration
MONITORING_ENABLED=true
METRICS_PORT=9092
HEALTH_CHECK_INTERVAL=30000
PERF_RESPONSE_TIME_THRESHOLD=5000
PERF_MEMORY_USAGE_THRESHOLD=1024
PERF_CPU_USAGE_THRESHOLD=80

# Feature Flags
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REALTIME_DASHBOARDS=true
FEATURE_PREDICTIVE_ANALYTICS=false
FEATURE_CUSTOM_REPORTS=true
FEATURE_REPORT_SCHEDULING=true
FEATURE_DATA_EXPORT=true

# Production Configuration (uncomment for production)
# NODE_ENV=production
# LOG_LEVEL=warn
# POSTGRES_SSL=true
# RATE_LIMIT_MAX_REQUESTS=1000
# MONITORING_ENABLED=true
